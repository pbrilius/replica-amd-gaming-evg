{#**
 * Copyright since 2007 PrestaShop SA and Contributors
 * PrestaShop is an International Registered Trademark & Property of PrestaShop SA
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Academic Free License version 3.0
 * that is bundled with this package in the file LICENSE.md.
 * It is also available through the world-wide-web at this URL:
 * https://opensource.org/licenses/AFL-3.0
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@prestashop.com so we can send you a copy immediately.
 *
 * @author    PrestaShop SA and Contributors <contact@prestashop.com>
 * @copyright Since 2007 PrestaShop SA and Contributors
 * @license   https://opensource.org/licenses/AFL-3.0 Academic Free License version 3.0
 *#}
{% extends '@PrestaShop/Admin/layout.html.twig' %}

{% block content %}
    <div id="translations-app"></div>
{% endblock %}

{% block javascripts %}
    {{ parent() }}

    <script>
        var data = {
            baseUrl: '{{ app.request.getBasePath() }}',
            locale: '{{ app.request.query.get('locale') }}',
            type: '{{ app.request.query.get('type') }}',
            currentTheme: {{ theme.name|json_encode|raw }},
            selected: '{{ app.request.query.get('selected') }}',
            domainsTreeUrl: '{{ url('api_translation_domains_tree', {
              'lang' : app.request.query.get('lang'),
              'type' : app.request.query.get('type'),
              'selected': app.request.query.get('selected')
            }) }}',
            translationUrl: '{{ url('api_i18n_translations_list', {'page' : 'international'}) }}',
            internationalUrl: '{{ getAdminLink("AdminLocalization")|raw }}',
            translationsUrl: '{{ getAdminLink("AdminTranslations")|raw }}'
        }
    </script>

    {% if webpack_server %}
        <script src="http://localhost:8080/translations.bundle.js"></script>
    {% else %}
        <script src="{{ asset('themes/new-theme/public/translations.bundle.js') }}"></script>
    {% endif %}

{% endblock %}
